<ion-view title="{{::vm.name}}" hide-tabs>
  <ion-content class='home-category elements' ng-click="vm.loadData()">
    <div class="centered-container" ng-if="!vm.loadStatus.isLoadFinished()">
      <span class="no-content load-status">
        <img ng-src="{{vm.loadStatus.getLoadingImage()}}"/>
      </span>
      <span class="message text-muted" ng-bind="vm.loadStatus.getMessage()"></span>
    </div>

    <div class="element-container" collection-repeat="product in ::vm.products" item-height="vm.getItemHeight()" item-width="vm.getItemWidth()" ng-click="vm.toProductDetailPage(product)">
      <div class='element'>
        <img class="blocked full" ng-src="{{product.coverimg}}" style="height: {{vm.imageHeight}}px; width: {{vm.imageWidth}}px">
        <div class='padding-5'>
          <div class="nowrap text-grey" ng-bind="product.name"></div>
          <div class='image-left padding-top-5'>
            <img class="r5" ng-src="{{product.brand.Brand.coverimg}}" ui-sref="store.home({id: product.brand.Brand.id, name: product.brand.Brand.name})" ng-click="$event.stopPropagation()">
            <div class='nowrap text-sub-muted' style="line-height: 1rem" ng-bind="product.brand.Brand.name"></div>
            <span class='text-sub text-energized' ng-bind="product.price | currency: '￥'"></span>
            <s class="text-sub-muted" ng-show="product.original_price > 0" ng-bind="product.original_price | currency: '￥'"></s>
          </div>
        </div>
      </div>
    </div>
  </ion-content>
</ion-view>