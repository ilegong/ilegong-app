<ion-view title="{{vm.orderStateName}}订单" hide-tabs>
  <ion-content class="my-orders">
    <div class="list order" ng-repeat="order in vm.orders" ng-show="vm.orders.length > 0" ng-init="brand=vm.brands[order.Order.brand_id].Brand; products=vm.order_carts[order.Order.id];">
      <a class="item item-avatar brand" ui-sref="store.home({storeId: brand.id})">
        <img src="{{brand.coverimg}}"/>
        <h2 class="brand-name">{{brand.name}}({{carts.length}})</h2>
        <span class="text-energized fr">
          {{vm.getOrderState(order).status}}
        </span>
      </a>
      <a class="item item-avatar item-thumbnail-left product" ng-repeat="product in products" ui-sref="app.my-order-detail({id: order.Order.id})">
        <img src='{{product.Cart.coverimg}}'/>
        <div class="product-name">{{product.Cart.name}}</div>
        <div class="product-fee text-muted">
          {{product.Cart.price | currency:'￥'}} × {{product.Cart.num}}
        </div>
        <div class="delivery-fee text-muted">
         {{9999 | currency:'￥'}}
        </div>
      </a>  
      <div class="item summary">
        <span class="total-price">
          实付:<span class="text-energized">{{order.Order.total_price | currency:'￥'}}</span>
        </span>
        <span class="buttons fr">
          <a class="button" ng-show="order.Order.status == 2" ng-disabled="true" ng-click="vm.viewLogistics()">查看物流</a>
          <a class="button button-balanced button-outline" ng-show="order.Order.status == 2" ng-really-click="vm.confirmReceivingGoods(order)" ng-really-message="您确定收到货了吗？">确认收货</a>

          <a class="button" ng-class="{'button-balanced button-outline': false}" ng-show="order.Order.status == 3" ng-disabled='true' ng-click="vm.addRemark(order)">评价</a>

          <a class="button" ng-class="{'button-balanced button-outline': !order.reminded}" ng-show="order.Order.status == 1" ng-click="vm.remindSendingGoods(order)" ng-disabled="order.reminded">提醒发货</a>

          <a class="button button-balanced button-outline" ng-show="order.Order.status == 0" ui-sref="app.my-order-detail({id: order.Order.id})">支付</a>
        </span>
      </div>
      </div>
    </div>

    <div class="no-content-container" ng-show="vm.orders.length == 0">
      <span class="no-content no-orders">
      </span>
      <span class="message">
        暂无{{vm.orderStateName == '全部' ? '' : vm.orderStateName}}订单
      </span>
    </div>

  </ion-content>
</ion-view>
