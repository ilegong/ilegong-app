<ion-view title="账号" hide-back-button='true'>
   <ion-nav-buttons side="left">
    <button class="button button-clear back-button" ng-click="$ionicGoBack($event)">
      <i class="icon ion-ios7-arrow-left"></i>返回
    </button>
  </ion-nav-buttons>
  <ion-nav-buttons side="right">
    <button class="button button-clear button-positive" ui-sref="account-login">登录</button>
  </ion-nav-buttons>
  <ion-content class="my-account-register">
    <div class="list">
      <label class="item item-input item-stacked-label">
        <span class="input-label">手机号</span>
        <input type="text" ng-model="vm.user.mobile" placeholder="手机号">
      </label>
      <div class='item item-input item-row item-stacked-label'>
        <label class="col col-50">
          <span class="input-label">验证码</span>
          <input type="text" ng-model='vm.user.captchaCode' placeholder="验证码" ng-blur="vm.verifyCaptchaCode()">
        </label>
        <img id='captchaImage' class='col col-50' ng-click="vm.showCaptchaCode()"/>
      </div>
      <div class='item item-input item-row item-stacked-label'>
        <label class="col col-50">
          <span class="input-label">短信验证码</span>
          <input type="text" ng-model='vm.user.smsCode' class='smsCode' placeholder="短信验证码">
        </label>
        <button id="smsCodeButton" class="sms-code col col-33" ng-class="{disabled: vm.shouldDisableSmsCodeButton()}" ng-click="vm.getSmsCode()" ng-disabled="vm.shouldDisableSmsCodeButton()">
          {{vm.user.smsSent? vm.user.nextSentInterval + "秒后可重试" : "点击获取"}}
        </button>
      </div>
      <label class="item item-input item-stacked-label">
        <span class="input-label">密码</span>
        <input type="password" ng-model='vm.user.password' placeholder="密码">
      </label>
    </div>
    <div class="padding">
      <button class="button button-block button-positive" ng-disabled="!vm.shouldEnableRegisterButton()" ng-click="vm.register()">注册</button>
    </div>
    <ul class="padding">
      <li>{{vm.user}}</li>
      <li></li>
    </ul>
  </ion-content>
</ion-view>